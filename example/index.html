<html>
  <body>
    <div id="counter"></div>
    <hr>
    <div id="listing1" style="height:60px;overflow:auto;" >
    </div>
    <hr>
    <a href="javascript://" onclick="$('#listing1').FiFoList({goto:'start'});" class="ffScroll" >goto start</a>
    &nbsp;
    <a href="javascript://" onclick="$('#listing1').FiFoList({goto:'end'});" class="ffScroll" >goto end</a>
    &nbsp;
    <a href="javascript://" onclick="$('#listing1').FiFoList({longpolling:'start'});" class="lpStopped" >start</a>
    &nbsp;
    <a href="javascript://" onclick="$('#listing1').FiFoList({longpolling:'stop'});" class="lpRunning" >stop</a>
    &nbsp;
    <a href="javascript://" onclick="$('#listing1').FiFoList({longpolling:'restart'});" class="lpRunning" >restart</a>
    <!-- Plugin depends on jQuery: -->
    <script
			  src="https://code.jquery.com/jquery-3.2.1.min.js"
			  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
			  crossorigin="anonymous"></script>

    <script type="text/javascript" src="../fifolist.jquery.js" ></script>
    <!-- Optional, if we want to use longpolling option: -->
    <script type="text/javascript" src="../../longpolling/neverending-streaming.js" ></script>
    
    <script type="text/javascript" >
      $('#listing1').FiFoList({
        'maxListLength': false, // never remove from list
        'onEmpty': function() { // if list is empty, lets hide some buttons
          $('.ffScroll').hide();
        },
        'onOverflow': function() { // if list started to overflow, lets show some buttons
          $('.ffScroll').show();
        },
        'longpolling': { // longpolling will populate the list
          // following are options for AjaxNeverendingStreaming class:
          'url': '../../longpolling/example/get.php',
          'maxTurns': 1, // dont repeat requests
          'onChunk': function(chunk, detail) { // on chunk received, we can display some info.
            $('#counter').html(Math.round(detail.time / 1000) + ' seconds, ' + detail.chunk + ' lines');
          },
          'onRequest': function() { // when request begins, we can show/hide some buttons
            $('.lpStopped').hide();
            $('.lpRunning').show();
          },
          'onComplete': function() { // when request ends, we can show/hide some buttons
            $('.lpRunning').hide();
            $('.lpStopped').show();
          }
        }
      });
    </script>
  </body>
</html>
